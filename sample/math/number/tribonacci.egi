(define $m 3)

(define $A
  (generate-tensor
    (match-lambda [integer integer]
      {[[,1 _] 1]
       [[$x ,(- x 1)] 1]
       [[_ _] 0]})
    {m m}))
A
;[| [| 1 1 1 |] [| 1 0 0 |] [| 0 1 0 |] |]

(define $B
  (generate-tensor
    (match-lambda integer
      {[,m 1]
       [_ 0]})
    {m}))

B
;[| 0 0 1 |]

(M.* A B)
;[| 1 0 0 |]

(M.* A A B)
;[| 1 1 0 |]

(M.* A A A B)
;[| 2 1 1 |]

(M.* A A A A B)
;[| 4 2 1 |]

(M.* A A A A A B)
;[| 7 4 2 |]

(M.* (M.power A 100) B)
;[| 98079530178586034536500564 53324762928098149064722658 28992087708416717612934417 |]

(M.* (M.power A 1000) B)
;[| 1499952522327196729941271196334368245775697491582778125787566254148069690528296568742385996324542810615783529390195412125034236407070760756549390960727215226685972723347839892057807887049540341540394345570010550821354375819311674972209464069786275283520364029575324 815507705949063215012634973737520390101047421640059634182536354954214345249517992411833219017896606412691713984091121798255747368520490502996057925004321483423983646944214344896256767238653269823324951340326550513652712428004750634815007544492510783789625725711384 443382579490226307661986241584270009256355236429858450381499235934108943134478901646797270328593836893366107162717822510963842586116043942479088674053663996392411782672993524690287662511197858910187264664163782145563472265666010074477859199789932765503984125240893 |]~#


