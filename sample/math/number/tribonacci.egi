(define $m 3)

(define $A
  (generate-tensor
    (match-lambda [integer integer]
      {[[,1 _] 1]
       [[$x ,(- x 1)] 1]
       [[_ _] 0]})
    {m m}))

A
;[| [| 1 1 1 |] [| 1 0 0 |] [| 0 1 0 |] |]

(M.* A A)
;[| [| 2 2 1 |] [| 1 1 1 |] [| 1 0 0 |] |]

(M.power A 100)
;[| [| 121415 101902 66012 |] [| 66012 55403 35890 |] [| 35890 30122 19513 |] |]

(M.power A 1000)
;[| [| 2758842807766486252615892411656158645133100149652696210351601845036392978912293462801016485671033253921841350537004356434253826361707295202024537559785200706502368152965047761644352316799391470273906561574500883480570560512982435681502330814068718832813973880527601 2315460228276259944953906170071888635876744913222837759970102609102284035777814561154219215342439417028475243374286533923289983775591251259545448885731536710109956370292054236954064654288193611363719296910337101335007088247316425607024471614278786067309989755286708 1499952522327196729941271196334368245775697491582778125787566254148069690528296568742385996324542810615783529390195412125034236407070760756549390960727215226685972723347839892057807887049540341540394345570010550821354375819311674972209464069786275283520364029575324 |] [| 1499952522327196729941271196334368245775697491582778125787566254148069690528296568742385996324542810615783529390195412125034236407070760756549390960727215226685972723347839892057807887049540341540394345570010550821354375819311674972209464069786275283520364029575324 1258890285439289522674621215321790399357402658069918084564035590888323288383996894058630489346490443306057821146808944309219589954636534445475146599057985479816395429617207869586544429749851128733512216004490332659216184693670760709292866744282443549293609850952277 815507705949063215012634973737520390101047421640059634182536354954214345249517992411833219017896606412691713984091121798255747368520490502996057925004321483423983646944214344896256767238653269823324951340326550513652712428004750634815007544492510783789625725711384 |] [| 815507705949063215012634973737520390101047421640059634182536354954214345249517992411833219017896606412691713984091121798255747368520490502996057925004321483423983646944214344896256767238653269823324951340326550513652712428004750634815007544492510783789625725711384 684444816378133514928636222596847855674650069942718491605029899193855345278778576330552777306646204203091815406104290326778489038550270253553333035722893743261989076403625547161551119810887071717069394229684000307701663391306924337394456525293764499730738303863940 443382579490226307661986241584270009256355236429858450381499235934108943134478901646797270328593836893366107162717822510963842586116043942479088674053663996392411782672993524690287662511197858910187264664163782145563472265666010074477859199789932765503984125240893 |] |]